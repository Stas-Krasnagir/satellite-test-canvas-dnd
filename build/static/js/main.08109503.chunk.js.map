{"version":3,"sources":["Store/canvasState.js","Components/LocaStorage.js","Components/Canvas.jsx","App.js","index.js"],"names":["canvas","makeAutoObservable","this","myStorage","window","localStorage","addItem","item","lastValue","getItem","clear","tmp","JSON","parse","push","setItem","stringify","res","getItems","windW","document","documentElement","clientWidth","windH","innerHeight","Canvas","observer","canvasRef","useRef","useEffect","canvasState","setCanvas","current","ctx","getContext","workplase","x","y","w","h","drawPlase","mouse","down","toolRect","toolCircle","r","activeDrawRect","activeDrawCircle","isMove","newRect","type","stroke","newCircle","cheakActiveRect","rect","cheakActiveCircle","circle","Math","sqrt","drawRect","beginPath","fillStyle","fill","closePath","drawCircle","arc","PI","listen","clearRect","width","height","fillRect","moveTo","lineTo","font","fillText","reverse","map","filter","forEach","drawFigures","onmousemove","e","pageX","target","offsetLeft","pageY","offsetTop","onmousedown","onmouseup","addEventListener","event","key","setInterval","className","ref","App","onClick","obj","alert","blob","Blob","url","URL","createObjectURL","a","createElement","href","download","textContent","getElementById","appendChild","err","console","log","id","file","files","sFileName","name","sFileExtension","split","length","toLowerCase","includes","reader","FileReader","readAsText","onload","result","element","error","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.08109503.chunk.js","sourcesContent":["import { makeAutoObservable } from \"mobx\";\r\n\r\nclass CanvasState {\r\n  canvas = null\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  setCanvas(canvas) {\r\n    this.canvas = canvas\r\n  }\r\n}\r\n\r\nexport default new CanvasState()","let myStorage = window.localStorage;\r\nfunction addItem(item) {\r\n  let lastValue = myStorage.getItem('canvas')\r\n  myStorage.clear()\r\n  if (lastValue !== null) {\r\n    let tmp = JSON.parse(lastValue)\r\n    tmp.push(item)\r\n    myStorage.setItem('canvas', JSON.stringify(tmp))\r\n  }\r\n  else {\r\n    let res = []\r\n    res.push(item)\r\n    myStorage.setItem('canvas', JSON.stringify(res))\r\n  }\r\n};\r\nfunction getItems() {\r\n  return JSON.parse(myStorage.getItem('canvas'))\r\n}\r\n\r\nexport { myStorage, addItem, getItems }","import React, { useRef, useEffect } from 'react';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport canvasState from \"../Store/canvasState\";\r\nimport { myStorage, addItem, getItems } from \"./LocaStorage\";\r\n\r\nconst WIDTH = 1000;\r\nconst HEIGHT = 550;\r\n\r\nconst windW = document.documentElement.clientWidth - 25;\r\nconst windH = window.innerHeight - 70;\r\n\r\n\r\nconst Canvas = observer(() => {\r\n  const canvasRef = useRef()\r\n  useEffect(() => {\r\n    canvasState.setCanvas(canvasRef.current)\r\n    let ctx = canvasState.canvas.getContext('2d')\r\n\r\n    let workplase = { x: windW / 6, y: windH / 12, w: WIDTH, h: HEIGHT };\r\n    let drawPlase = { x: workplase.x * 2 + 51, y: 110 + 51, w: 760 - 102, h: workplase.h - workplase.h / 10 - 102 }\r\n    let mouse = { x: null, y: null, down: false };\r\n    let toolRect = { x: workplase.x + workplase.x / 3, y: workplase.y + workplase.h / 5, w: 100, h: 100 };\r\n    let toolCircle = { x: workplase.x + workplase.x / 3 + 50, y: workplase.y + workplase.h / 2, r: 50 };\r\n    let activeDrawRect = false\r\n    let activeDrawCircle = false;\r\n    let isMove = false\r\n    let newRect = { type: \"rect\", x: workplase.x + workplase.x / 3, y: workplase.y + workplase.h / 5, w: 100, h: 100, stroke: false }\r\n    let newCircle = { type: \"circle\", x: workplase.x + workplase.x / 3 + 50, y: workplase.y + workplase.h / 2, r: 50, stroke: false };\r\n\r\n    //================================\r\n\r\n    canvasState.canvas.onmousemove = function (e) {\r\n      mouse.x = e.pageX - e.target.offsetLeft;\r\n      mouse.y = e.pageY - e.target.offsetTop\r\n\r\n      if (activeDrawRect) {\r\n        newRect = { type: \"rect\", x: mouse.x - 50, y: mouse.y - 50, w: 100, h: 100, stroke: true }\r\n      }\r\n\r\n      if (activeDrawCircle) {\r\n        newCircle = { type: \"circle\", x: mouse.x, y: mouse.y, r: 50, stroke: true };\r\n      }\r\n    }\r\n\r\n    canvasState.canvas.onmousedown = function (e) {\r\n      mouse.down = true;\r\n      mouse.x = e.pageX - e.target.offsetLeft;\r\n      mouse.y = e.pageY - e.target.offsetTop\r\n\r\n      activeDrawRect = cheakActiveRect(mouse.x, mouse.y, toolRect);\r\n      activeDrawCircle = cheakActiveCircle(mouse.x, mouse.y, toolCircle);\r\n    }\r\n\r\n    canvasState.canvas.onmouseup = function (e) {\r\n      mouse.down = false;\r\n      isMove = false;\r\n      if (activeDrawRect && (cheakActiveRect(mouse.x, mouse.y, drawPlase))) {\r\n        addItem(newRect);\r\n      };\r\n      newRect = { x: workplase.x + workplase.x / 3, y: workplase.y + workplase.h / 5, w: 100, h: 100 };\r\n\r\n      activeDrawRect = false;\r\n      if (activeDrawCircle && (cheakActiveRect(mouse.x, mouse.y, drawPlase))) {\r\n        addItem(newCircle);\r\n      };\r\n      activeDrawCircle = false;\r\n      newCircle = { x: workplase.x + workplase.x / 3 + 50, y: workplase.y + workplase.h / 2, r: 50 };\r\n    };\r\n\r\n    document.addEventListener('keydown', (event) => {\r\n      if (event.key === \"Delete\") {\r\n        activeDrawRect = false;\r\n        activeDrawCircle = false;\r\n      }\r\n    })\r\n\r\n    //================================\r\n\r\n    function drawWorkplase() {\r\n      ctx.beginPath();\r\n      ctx.rect(workplase.x, workplase.y, workplase.w, workplase.h);\r\n      ctx.fillStyle = \"#e8e4e3\";\r\n      ctx.fillRect(workplase.x, workplase.y, workplase.w, workplase.h / 10);\r\n      ctx.moveTo(workplase.x, workplase.h / 10 * 2);\r\n      ctx.lineTo(workplase.x + WIDTH, workplase.h / 10 * 2);\r\n      ctx.moveTo(workplase.x * 2, workplase.y);\r\n      ctx.lineTo(workplase.x * 2, workplase.y + workplase.h);\r\n      ctx.font = \"25px Arial\";\r\n      ctx.fillStyle = \"black\";\r\n      ctx.fillText(\"Figures\", workplase.x + workplase.x / 3, workplase.y + workplase.y / 2);\r\n      ctx.fillText(\"Canvas\", workplase.x + workplase.w / 2, workplase.y + workplase.y / 2);\r\n      ctx.stroke()\r\n      ctx.closePath();\r\n      ctx.beginPath();\r\n      ctx.fillStyle = \"green\";\r\n      ctx.fillRect(toolRect.x, toolRect.y, toolRect.w, toolRect.h);\r\n      ctx.fillStyle = \"blue\";\r\n      ctx.arc(toolCircle.x, toolCircle.y, toolCircle.r, 0, 2 * Math.PI, false)\r\n      ctx.fill()\r\n      ctx.closePath();\r\n    }\r\n\r\n    function drawFigures() {\r\n      let tmp = getItems()\r\n      if (tmp === null) return\r\n      let tmp1 = tmp.reverse().map(item => {\r\n        if (item.type === \"rect\") {\r\n          if (cheakActiveRect(mouse.x, mouse.y, item) && mouse.down && !isMove && !activeDrawRect && !activeDrawCircle) {\r\n            item.stroke = true\r\n            isMove = true;\r\n            newRect = { type: \"rect\", x: item.x, y: item.y, w: item.w, h: item.h, stroke: item.stroke }\r\n            activeDrawRect = true;\r\n            return null\r\n          }\r\n        }\r\n        if (item.type === \"circle\") {\r\n          if (cheakActiveCircle(mouse.x, mouse.y, item) && mouse.down && !isMove && !activeDrawCircle && !activeDrawRect) {\r\n            isMove = true;\r\n            item.stroke = true;\r\n            newCircle = { type: \"circle\", x: item.x, y: item.y, r: item.r, stroke: item.stroke }\r\n            activeDrawCircle = true;\r\n            return null\r\n          }\r\n        }\r\n        return item\r\n      })\r\n      let res = tmp1.filter(item => item !== null).reverse()\r\n      myStorage.clear()\r\n      res.forEach(item => {\r\n        if (item.type === \"rect\") {\r\n          drawRect(item.x, item.y, item.w, item.h, item.stroke)\r\n        }\r\n        if (item.type === \"circle\") {\r\n          drawCircle(item.x, item.y, item.r, item.stroke)\r\n        }\r\n        item.stroke = false\r\n        addItem(item)\r\n      })\r\n    }\r\n\r\n    function cheakActiveRect(x, y, rect) {\r\n      if (x >= rect.x && x <= (rect.x + rect.w)\r\n        && y >= rect.y && y <= (rect.y + rect.h)) {\r\n        return true;\r\n      }\r\n      else return false\r\n    };\r\n\r\n    function cheakActiveCircle(x, y, circle) {\r\n      let distance = Math.sqrt(((x - circle.x) * (x - circle.x)) +\r\n        ((y - circle.y) * (y - circle.y)))\r\n      if (distance < 50)\r\n        return true;\r\n      else return false\r\n    };\r\n\r\n    function drawRect(x, y, w, h, stroke) {\r\n      ctx.beginPath()\r\n      ctx.fillStyle = \"green\";\r\n      ctx.rect(x, y, w, h)\r\n      ctx.fill()\r\n      if (stroke) ctx.stroke()\r\n      ctx.closePath()\r\n    }\r\n\r\n    function drawCircle(x, y, r, stroke) {\r\n      ctx.beginPath()\r\n      ctx.fillStyle = \"blue\";\r\n      ctx.arc(x, y, r, 0, 2 * Math.PI)\r\n      ctx.fill()\r\n      if (stroke) ctx.stroke()\r\n      ctx.closePath()\r\n    }\r\n\r\n    function listen() {\r\n      ctx.clearRect(0, 0, canvasState.canvas.width, canvasState.canvas.height)\r\n      drawWorkplase()\r\n      drawFigures()\r\n      if (activeDrawRect) drawRect(newRect.x, newRect.y, newRect.w, newRect.h, newRect.stroke)\r\n      if (activeDrawCircle) drawCircle(newCircle.x, newCircle.y, newCircle.r, newCircle.stroke)\r\n    }\r\n\r\n    setInterval(() => listen(), 50)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"canvas\">\r\n      <canvas\r\n        width={windW}\r\n        height={windH}\r\n        ref={canvasRef}>\r\n      </canvas>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nexport default Canvas","import React from 'react';\nimport './App.css';\nimport Canvas from \"./Components/Canvas\";\nimport { addItem, getItems } from \"./Components/LocaStorage\";\n\nfunction App() {\n  function clearStorage() {\n    localStorage.clear()\n  }\n\n  function saveData() {\n    try {\n      let obj = getItems();\n      if (!obj) {\n        alert(\"Нечего сохронять!\")\n        return null\n      }\n      let blob = new Blob([JSON.stringify(obj)], { type: 'application/json' });\n      let url = URL.createObjectURL(blob);\n      let a = document.createElement('a');\n      a.href = url;\n      a.download = \"backup.json\";\n      a.textContent = \"Download backup.json\";\n      document.getElementById('json').appendChild(a);\n    }\n    catch (err) {\n      console.log(err);\n    }\n  }\n\n  function readData() {\n    try {\n      let file = document.getElementById('file').files[0];\n      if (!file) {\n        alert(\"Выберите файл\")\n        return null\n      }\n      let sFileName = file.name;\n      let sFileExtension = sFileName.split('.')[sFileName.split('.').length - 1].toLowerCase();\n      let extensionList = ['json'];\n      if (!extensionList.includes(sFileExtension)) {\n        alert(\"Выберите json файл\")\n        return null\n      }\n      let reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = function () {\n        let res = JSON.parse(reader.result);\n        if (!res) {\n          alert(\"Файл пустой\")\n          return null\n        }\n        res.forEach(element => {\n          addItem(element)\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <div className=\"App_container\">\n      <div className=\"btn\">\n        <button onClick={clearStorage} > Clear Storage</button>\n        <button onClick={saveData} > Save</button>\n        <div id=\"json\"></div>\n        <input type=\"file\" id=\"file\" />\n        <button onClick={readData}> Read</button>\n      </div>\n      <div className=\"canvas_container\">\n        <Canvas />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBWOhSHROTkF7f9JuPruFHBGGZTlMKStOA\",\n  authDomain: \"satellite-test-canvas-dnd.firebaseapp.com\",\n  projectId: \"satellite-test-canvas-dnd\",\n  storageBucket: \"satellite-test-canvas-dnd.appspot.com\",\n  messagingSenderId: \"1053165702609\",\n  appId: \"1:1053165702609:web:b82d084140d34d6c55e4f0\"\n};\nfirebase.initializeApp(firebaseConfig);\n\nexport { firebase };\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}